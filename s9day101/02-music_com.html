<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      *{
        padding:0;
      }
      ul {
        /* display:none; */
        list-style:none;
      }
      li{
        border-bottom:1px solid gray;
      }
    </style>
  </head>
  <body>
    <div id="music">
      <audio :src="mySong" controls="" autoplay="" @ended="nextSong"></audio>
      <ul>
        <li v-for="(item, index) in songs" @click='clickHandeler(index)'>
          <h3>歌名：{{item.name}}</h3>
          <p>歌手：{{item.author}}</p>
        </li>
      </ul>
    </div>

  </body>
  <script type="text/javascript" src="./vue.js"> </script>
  <script>
  // 通过计算属性来进行音乐播放器的实现
    var songs = [
      {id:1,src:'./audios/1.mp3',name:'1',author:'1'},
      {id:2,src:'./audios/2.mp3',name:'2',author:'2'},
      {id:3,src:'./audios/3.mp3',name:'3',author:'3'},
      {id:4,src:'./audios/4.mp3',name:'4',author:'4'},
    ]
    var music = new Vue({
      el:"#music",
      data:{
        songs:songs,
        // currentSong:'./audios/1.mp3',
        currentIndex:0,
      },
      methods: {
        clickHandeler(index) {
          // this.currentSong = this.songs[index].src;
          this.currentIndex = index;
        },
        nextSong(){
          this.currentIndex++;
          // this.currentSong = this.songs[this.currentIndex].src;
        }
      },
      computed:{
        mySong(){
          return this.songs[this.currentIndex].src;
        }
      }
    })
  </script>
</html>
